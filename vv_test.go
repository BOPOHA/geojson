package geojson

import (
	"testing"
)

func TestIssue359(t *testing.T) {
	poly1, err := ObjectJSON(`{"type":"Polygon","coordinates":[[[-122.4408378,37.7341129],[-122.4408378,37.733],[-122.44,37.733],[-122.44,37.7341129],[-122.4408378,37.7341129]]]}`)
	if err != nil {
		t.Fatal(err)
	}
	poly2, err := ObjectJSON(`{"type":"Polygon","coordinates":[[[-122.44091033935547,37.731981251280985],[-122.43994474411011,37.731981251280985],[-122.43994474411011,37.73254976045042],[-122.44091033935547,37.73254976045042],[-122.44091033935547,37.731981251280985]]]}`)
	if err != nil {
		t.Fatal(err)
	}
	multipoly, err := ObjectJSON(`{"type":"MultiPolygon","coordinates":[[[[-122.4408378,37.7341129],[-122.4408378,37.733],[-122.44,37.733],[-122.44,37.7341129],[-122.4408378,37.7341129]]],[[[-122.44091033935547,37.731981251280985],[-122.43994474411011,37.731981251280985],[-122.43994474411011,37.73254976045042],[-122.44091033935547,37.73254976045042],[-122.44091033935547,37.731981251280985]]]]}`)
	if err != nil {
		t.Fatal(err)
	}
	bounds, err := ObjectJSON(`{"type": "Polygon","coordinates":[[[-122.4434208869934,37.73138728181471],[-122.43711233139038,37.73138728181471],[-122.43711233139038,37.73579951265516],[-122.4434208869934,37.73579951265516],[-122.4434208869934,37.73138728181471]]]}`)
	if err != nil {
		t.Fatal(err)
	}
	if false {
		if !poly1.Within(bounds) {
			t.Fatal("should be within")
		}
		if !poly2.Within(bounds) {
			t.Fatal("should be within")
		}
	}
	if !multipoly.Within(bounds) {
		t.Fatal("should be within")
	}

}
